<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Pöbelmaschine</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap');

  body {
    background: black;
    color: #0f0; /* grün */
    font-family: 'Share Tech Mono', monospace;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: start;
    min-height: 100vh;
    margin: 0;
    padding: 2rem;
  }

  h1 {
    color: magenta;
    font-weight: 600;
    font-size: 2.5rem;
    margin-bottom: 1.5rem;
    letter-spacing: 0.15em;
    text-transform: uppercase;
  }

  .slots {
    display: flex;
    gap: 1rem;
    margin-bottom: 2rem;
  }

  .slot {
    background: #020;
    border: 3px solid magenta;
    border-radius: 6px;
    width: 12rem;           /* breiter für längere Wörter */
    height: 4.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.4rem;      /* etwas kleiner */
    text-transform: lowercase;
    user-select: none;
    box-shadow:
      0 0 10px #f0f, 
      inset 0 0 6px #0f0;
    letter-spacing: 0.1em;
    padding: 0 0.5rem;
    white-space: nowrap;    /* kein Zeilenumbruch */
    overflow: hidden;
    text-overflow: ellipsis;
  }

  button {
    font-family: 'Share Tech Mono', monospace;
    font-size: 1.3rem;
    background: magenta;
    color: black;
    border: none;
    border-radius: 6px;
    padding: 0.8rem 2rem;
    cursor: pointer;
    text-transform: uppercase;
    letter-spacing: 0.15em;
    box-shadow: 0 0 12px magenta;
    transition: background-color 0.3s ease;
  }

  button:hover {
    background-color: #d100d1;
  }

  /* Glitch Animation */
  @keyframes glitch {
    0% {
      text-shadow:
        2px 0 red,
        -2px 0 cyan;
      transform: translate(0);
    }
    20% {
      text-shadow:
        -2px 0 red,
        2px 0 cyan;
      transform: translate(-2px, 0);
    }
    40% {
      text-shadow:
        2px 2px red,
        -2px -2px cyan;
      transform: translate(2px, 2px);
    }
    60% {
      text-shadow:
        -2px -2px red,
        2px 2px cyan;
      transform: translate(-2px, -2px);
    }
    80% {
      text-shadow:
        2px 0 red,
        -2px 0 cyan;
      transform: translate(0);
    }
    100% {
      text-shadow:
        none;
      transform: translate(0);
    }
  }

  .glitch {
    animation: glitch 0.3s ease-in-out 3;
  }

  /* Responsive */
  @media (max-width: 480px) {
    .slot {
      width: 9rem;
      font-size: 1.1rem;
    }
    button {
      width: 100%;
      font-size: 1.1rem;
    }
  }
</style>
</head>
<body>

<h1>Pöbelmaschine</h1>

<div class="slots">
  <div id="slot1" class="slot">--</div>
  <div id="slot2" class="slot">--</div>
  <div id="slot3" class="slot">--</div>
</div>

<button id="spinBtn">Slot mich hart</button>

<script>
  // Wortlisten

  const words = {
    // Adjektive im Grundstamm (ohne Endung)
    adj1: [
      "räudig", "verballert", "matschig", "muffig", "miefig", "gammlig", "labbrig", "gruselig"
    ],

    // Part 1: erster Teil des Komposits
    part1: [
      "baller", "brabbel", "blech", "dumpfsupp", "grotten", "knall", "knurps", "knorzel",
      "matschi", "mumpf", "papp", "plapper", "piss", "quatsch", "schlabber", "schlurf",
      "schwabbel", "schwurb", "stink", "verknatscht", "zappel"
    ],

    // Part 2: zweiter Teil mit Genus für korrekte Adjektivendung
    part2: [
      { wort: "Jockel", genus: "m" },
      { wort: "Eimer", genus: "m" },
      { wort: "Olm", genus: "m" },
      { wort: "Keks", genus: "m" },
      { wort: "Kopp", genus: "m" },
      { wort: "Klopper", genus: "m" },
      { wort: "Kreisel", genus: "m" },
      { wort: "Gott", genus: "m" },
      { wort: "Kante", genus: "w" },
      { wort: "Birne", genus: "w" },
      { wort: "Pille", genus: "w" },
      { wort: "Nudel", genus: "w" },
      { wort: "Kuh", genus: "w" },
      { wort: "Lache", genus: "w" },
      { wort: "Matte", genus: "w" }
    ]
  };

  // Hilfsfunktion: zufälliges Element aus Array
  function getRandom(arr) {
    return arr[Math.floor(Math.random() * arr.length)];
  }

  // Adjektiv beugen nach Genus (bestimmter Artikel, Nominativ Singular)
  function beugeAdjektiv(adj, genus) {
    switch (genus) {
      case "m": return adj + "er";
      case "w": return adj + "e";
      case "s": return adj + "es";
      default: return adj;
    }
  }

  // Spin-Effekt: Text mit Glitch animieren (kurz)
  function glitchEffect(element) {
    element.classList.add("glitch");
    setTimeout(() => element.classList.remove("glitch"), 900);
  }

  // Slot-Inhalte setzen mit Glitch
  function spinSlot(id, text) {
    const el = document.getElementById(id);
    el.textContent = text;
    glitchEffect(el);
  }

  // Spin-Funktion: 3 Slots
  async function spin() {
    // Kurzer Glitch-Scramble Effekt
    for (let i = 0; i < 6; i++) {
      const adjRandom = getRandom(words.adj1);
      const part1Random = getRandom(words.part1);
      const part2Random = getRandom(words.part2);

      spinSlot("slot1", adjRandom + "...");
      spinSlot("slot2", part1Random + "-");
      spinSlot("slot3", part2Random.wort);

      await new Promise(r => setTimeout(r, 70));
    }

    // Finale Auswahl
    const adj = getRandom(words.adj1);
    const part1 = getRandom(words.part1);
    const part2 = getRandom(words.part2);

    const adjBeugt = beugeAdjektiv(adj, part2.genus);

    spinSlot("slot1", adjBeugt);
    spinSlot("slot2", part1 + "-");
    spinSlot("slot3", part2.wort);
  }

  // Event Listener für Button
  document.getElementById("spinBtn").addEventListener("click", spin);

  // Initial Fill
  spin();
</script>

</body>
</html>
