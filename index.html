<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Pöbelmaschine</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@600&display=swap');

  :root {
    --color-primary: #0ff; /* cyan */
    --bg-color: #000;
    --slot-bg: #022;
    --slot-border: #0ff;
    --text-color: var(--color-primary);
  }

  body {
    margin: 0;
    background: var(--bg-color);
    color: var(--text-color);
    font-family: 'Source Code Pro', monospace;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
    justify-content: center;
    align-items: center;
    padding: 1rem;
    user-select: none;
  }

  h1 {
    font-weight: 600;
    font-size: 2.5rem;
    margin-bottom: 1rem;
    letter-spacing: 0.15em;
    color: var(--color-primary);
    text-align: center;
    text-transform: uppercase;
  }

  #slot-machine {
    display: flex;
    gap: 1rem;
    margin-bottom: 2rem;
  }

  .slot {
    background: var(--slot-bg);
    border: 3px solid var(--slot-border);
    border-radius: 6px;
    width: 7rem;
    height: 5rem;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 1.6rem;
    font-weight: 600;
    color: var(--text-color);
    text-align: center;
    padding: 0 0.3rem;
    overflow-wrap: break-word;
  }

  button {
    background: none;
    border: 3px solid var(--color-primary);
    border-radius: 6px;
    color: var(--color-primary);
    font-family: 'Source Code Pro', monospace;
    font-weight: 600;
    font-size: 1.2rem;
    padding: 0.6rem 1.5rem;
    cursor: pointer;
    transition: background-color 0.3s ease, color 0.3s ease;
    user-select: none;
  }

  button:hover, button:focus {
    background-color: var(--color-primary);
    color: var(--bg-color);
    outline: none;
  }

  /* Spin animation */
  @keyframes spin-text {
    0% {opacity: 1; transform: translateY(0);}
    50% {opacity: 0.3; transform: translateY(-20px);}
    100% {opacity: 1; transform: translateY(0);}
  }

  .spinning {
    animation: spin-text 0.3s linear infinite;
  }

  /* Responsive */
  @media (max-width: 500px) {
    #slot-machine {
      gap: 0.5rem;
    }
    .slot {
      width: 5.5rem;
      height: 4rem;
      font-size: 1.2rem;
    }
    button {
      font-size: 1rem;
      padding: 0.5rem 1rem;
    }
  }
</style>
</head>
<body>

<h1>PÖBELMASCHINE</h1>

<div id="slot-machine">
  <div id="slot1" class="slot">----</div>
  <div id="slot2" class="slot">----</div>
  <div id="slot3" class="slot">----</div>
</div>

<button id="spin-btn">Slot mich hart</button>

<script>
  let words = null;

  async function loadWords() {
    words = {
      adj1: [
        "räudig",
        "verballert",
        "matschig",
        "muffig",
        "miefig",
        "gammlig",
        "labbrig",
        "gruselig"
      ],
      fem: {
        nouns: [
          "Pissflitsche",
          "Knalltüte",
          "Flachzange",
          "Schnarchnase",
          "Quatschbirne",
          "Witzgurke",
          "Blechhexe"
        ]
      },
      masc: {
        nouns: [
          "Ballerkeks",
          "Brabbelgott",
          "Jockel",
          "Eimer",
          "Bummsolm",
          "Grottenolm",
          "Schwurbler",
          "Wicht",
          "Trottel",
          "Lümmel",
          "Modderkopp",
          "Spinner",
          "Lappen",
          "Schlaumeier",
          "Kasper",
          "Hanswurst",
          "Heiopei",
          "Quatschkopf",
          "Pappnase",
          "Eierkopp",
          "Wurzelzwerg",
          "Hampelmann",
          "Schlabberlappen",
          "Schmalspurheld",
          "Matschbirne",
          "Brüllgurke",
          "Knallkopp"
        ]
      }
    };
  }

  function getRandom(arr) {
    return arr[Math.floor(Math.random() * arr.length)];
  }

  function spinSlot(id, text, animated = false) {
    const el = document.getElementById(id);
    if (!el) return;

    if (animated) {
      el.classList.add("spinning");
      setTimeout(() => {
        el.textContent = text;
        el.classList.remove("spinning");
      }, 900);
    } else {
      el.textContent = text;
    }
  }

  async function spin() {
    if (!words) await loadWords();

    const adjRoot = getRandom(words.adj1);

    // Für 3 Slots: 1. adj, 2. fem-Nomen oder masc-Nomen, 3. masc-Nomen
    // Slot 1: adjektiv (mask/fem Endung je nach noun Slot 2)
    // Slot 2: fem oder masc noun (50/50)
    // Slot 3: masc noun (immer masc)

    const femOrMasc = Math.random() < 0.5 ? "fem" : "masc";
    const noun2 = getRandom(words[femOrMasc].nouns);
    const noun3 = getRandom(words.masc.nouns);

    const adj = femOrMasc === "fem" ? adjRoot + "e" : adjRoot + "er";

    spinSlot("slot1", adj, true);
    spinSlot("slot2", noun2, true);
    spinSlot("slot3", noun3, true);
  }

  document.getElementById("spin-btn").addEventListener("click", spin);

  window.onload = () => {
    spinSlot("slot1", "----");
    spinSlot("slot2", "----");
    spinSlot("slot3", "----");
  };
</script>

</body>
</html>
